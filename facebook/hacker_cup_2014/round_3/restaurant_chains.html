<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Puzzles</title>

    
    <link rel="stylesheet" href="../../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/theme_extras.js"></script>
    <link rel="top" title="Puzzles 1.0 documentation" href="../../../index.html" />
    <link rel="up" title="Round 3" href="../round_3.html" />
    <link rel="next" title="Secret Santa" href="secret_santa.html" />
    <link rel="prev" title="Pizza Baking" href="pizza_baking.html" /> 
  </head>
  <body>
      <div class="header">
    <h1 class="heading">
        <a href="../../../index.html">
          <span>Puzzles</span>
        </a>
    </h1>

      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="pizza_baking.html">Pizza Baking</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="secret_santa.html">Secret Santa</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="restaurant-chains">
<h1>Restaurant Chains<a class="headerlink" href="#restaurant-chains" title="Permalink to this headline">¶</a></h1>
<p>The kingdom of Hackadia has <strong>N</strong> cities that are connected by <strong>M</strong>
bidirectional roads. Cities are enumerated from 0 to <strong>N</strong> - 1. To attract
tourists, the government has decided to open up some restaurant chains
throughout the kingdom. Each restaurant chain will serve some subset of cities,
and will have exactly one restaurant in each city of the chosen subset. Thus,
each city will have some restaurant chains, and it is possible to have all
possible restaurant chains in some city or not to have any restaurant chains in
some city.</p>
<p>To ensure that tourists do not face a drastic change in the food scenario when
traveling from one city to another, the government has decided that the
following condition must be satisfied for each pair of cities (<strong>u</strong>, <strong>v</strong>):</p>
<p>&#8220;the number of restaurant chains open in city <strong>u</strong> but not in city <strong>v</strong>&#8221;
plus &#8220;the number of restaurant chains open in city <strong>v</strong> but not in city <strong>u</strong>&#8221;
should always be equal to the shortest distance between city <strong>u</strong> and city
<strong>v</strong>.</p>
<p>It is guaranteed that every two cities are connected by some sequence of
bidirectional roads, and the shortest distance between city <strong>u</strong> and city
<strong>v</strong> is the number of roads on the shortest path connecting <strong>u</strong> and <strong>v</strong>.</p>
<p>Your job is to help the government determine the minimal number of restaurant
chains, such that there exist some assignment of the restaurant chains among
the cities that satisfy the above condition. If such assignment is not possible
print <strong>-1</strong>.</p>
<div class="section" id="input">
<h2>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h2>
<p>The first line of the input will be the number of test cases <strong>T</strong>.</p>
<p>Each of the test cases start with a line containing the numbers <strong>N</strong> and
<strong>M</strong>, representing the number of cities and the number of roads respectively.</p>
<p>The next <strong>M</strong> lines of each testcase contain a pairs of integers, representing
the cities connected by a bidirectional road in Hackadia.</p>
<p>Each testcase will be followed by an empty line.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p>For each test case <strong>i</strong> numbered from 1 to <strong>T</strong>, output &#8220;Case #i: &#8221;, followed
by the minimal number of restaurant chains or <strong>-1</strong>.</p>
</div>
<div class="section" id="constraints">
<h2>Constraints<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h2>
<p>1 ≤ <strong>T</strong> ≤ 20
1 ≤ <strong>N</strong> ≤ 10,000
1 ≤ <strong>M</strong> ≤ 50,000</p>
</div>
<div class="section" id="explanation">
<h2>Explanation<a class="headerlink" href="#explanation" title="Permalink to this headline">¶</a></h2>
<p>In the first example, we can have two restaurant chains (named X and Y) and
have chain X serve cities 1 and 2, and have chain Y serve cities 2 and 3.</p>
<p>In the second example, it is not possible to have such restaurant chain
assignment.</p>
</div>
<div class="section" id="example-input">
<h2>Example input<a class="headerlink" href="#example-input" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>5
4 4
3 0
1 2
0 1
2 3

4 5
1 3
3 0
1 2
2 3
0 1

2 1
0 1

6 9
1 5
2 4
2 3
0 3
0 4
2 5
1 3
0 5
1 4

10 9
0 1
0 9
0 3
0 8
0 7
0 6
0 2
0 4
0 5
</pre></div>
</div>
</div>
<div class="section" id="example-output">
<h2>Example output<a class="headerlink" href="#example-output" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Case #1: 2
Case #2: -1
Case #3: 1
Case #4: -1
Case #5: 9
</pre></div>
</div>
<p><a class="reference external" href="https://www.facebook.com/hackercup/problems.php?pid=395536453921142&amp;round=1433361756892155">View online</a>.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="pizza_baking.html">Pizza Baking</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="secret_santa.html">Secret Santa</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>