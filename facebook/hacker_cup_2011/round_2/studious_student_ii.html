<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Puzzles</title>

    
    <link rel="stylesheet" href="../../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/theme_extras.js"></script>
    <link rel="top" title="Puzzles 1.0 documentation" href="../../../index.html" />
    <link rel="up" title="Round 2" href="../round_2.html" />
    <link rel="next" title="Finals" href="../finals.html" />
    <link rel="prev" title="Scott’s New Trick" href="scott&#39;s_new_trick.html" /> 
  </head>
  <body>
      <div class="header">
    <h1 class="heading">
        <a href="../../../index.html">
          <span>Puzzles</span>
        </a>
    </h1>

      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="scott&#39;s_new_trick.html">Scott&#8217;s New Trick</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../finals.html">Finals</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="studious-student-ii">
<h1>Studious Student II<a class="headerlink" href="#studious-student-ii" title="Permalink to this headline">¶</a></h1>
<p>You&#8217;ve decided to make up another string manipulation game instead of paying
attention in class. Starting with a string composed entirely of &#8216;a&#8217; and &#8216;b&#8217;
characters, you will iteratively apply the following operation:</p>
<p>For a string <strong>s</strong> of length <strong>len</strong>, choose indices <strong>i</strong> and <strong>j</strong>, where
<strong>i</strong> &lt; <strong>j</strong> &lt; <strong>len</strong>. Choose a character <strong>c</strong> that occurs in the substring
which begins at zero-based index <strong>i</strong> of string <strong>s</strong> and extends to the index
<strong>j</strong> (inclusive). Replace all characters in <strong>s</strong> with zero-based index in
[<strong>i</strong>, <strong>j</strong>] with a single instance of <strong>c</strong> to generate <strong>s&#8217;</strong>. Set <strong>s</strong> to
be <strong>s&#8217;</strong>.</p>
<p>As an example of sequence of operations consider the string &#8216;abba&#8217;. Some of the
possible transformations are shown below. The substring being replaced is
enclosed in square brackets.</p>
<ol class="arabic simple">
<li>[abb]a → [aa] → a</li>
<li>a[bba] → [aa] → a</li>
<li>ab[ba] → [abb] → a</li>
<li>a[bb]a → aba</li>
</ol>
<p>The goal of your game is simple: calculate how many different sequences of
operations you can perform. As this number can be very large, you decide to
calculate it modulo 1,000,000,007. Two sequences of operations are considered
different if they differ in length, or if they differ in at least one position.
Note that the order of operations is a factor. The empty sequence of operations
should be counted as well. Operations can be considered triples of (<strong>i</strong>,
<strong>j</strong>, <strong>c</strong>) as described above, and these are the only values used when
computing whether two operations are the same.</p>
<div class="section" id="input">
<h2>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h2>
<p>The first line of the input file contains a single number <strong>N</strong>, the number of
test cases. Each test case is written on a separate line, and contains a string
consisting of letters &#8216;a&#8217; and &#8216;b&#8217;.</p>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p>Output <strong>N</strong> lines, with the answer to each test case on a single line.</p>
</div>
<div class="section" id="constraints">
<h2>Constraints<a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h2>
<p><strong>N</strong> = 20</p>
<p>1 ≤ <strong>len</strong> ≤ 60</p>
<p><strong>s</strong> only contains the lowercase characters &#8216;a&#8217; and &#8216;b&#8217;.</p>
</div>
<div class="section" id="example-input">
<h2>Example input<a class="headerlink" href="#example-input" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>5
ab
aba
aabb
ababa
bbbbb
</pre></div>
</div>
</div>
<div class="section" id="example-output">
<h2>Example output<a class="headerlink" href="#example-output" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Case #1: 3
Case #2: 13
Case #3: 57
Case #4: 642
Case #5: 120
</pre></div>
</div>
<p><a class="reference external" href="https://www.facebook.com/hackercup/problems.php?pid=136283916434483&amp;round=178767375498716">View online</a>.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="scott&#39;s_new_trick.html">Scott&#8217;s New Trick</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../finals.html">Finals</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>